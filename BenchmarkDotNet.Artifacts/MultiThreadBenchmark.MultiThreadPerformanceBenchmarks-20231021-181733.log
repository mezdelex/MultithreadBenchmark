// Validating benchmarks:
//    * No exporters defined, results will not be persisted.

// ***** BenchmarkRunner: Start   *****
// ***** Found 3 benchmark(s) in total *****
// ***** Building 1 exe(s) in Parallel: Start   *****
// start dotnet  restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in C:\Users\alexc\Workspace\Practice\MultithreadBenchmark\bin\Debug\net7.0\6e770b15-a426-4b3d-a6f8-037202e61491
// command took 0.96 sec and exited with 0
// start dotnet  build -c Release --no-restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in C:\Users\alexc\Workspace\Practice\MultithreadBenchmark\bin\Debug\net7.0\6e770b15-a426-4b3d-a6f8-037202e61491
// command took 3.55 sec and exited with 0
// ***** Done, took 00:00:04 (4.57 sec)   *****
// Found 3 benchmarks:
//   MultiThreadPerformanceBenchmarks.NormalBenchmark: DefaultJob
//   MultiThreadPerformanceBenchmarks.ParallelBenchmark: DefaultJob
//   MultiThreadPerformanceBenchmarks.ConcurrentBenchmark: DefaultJob

Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: High performance)
// **************************
// Benchmark: MultiThreadPerformanceBenchmarks.NormalBenchmark: DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet 6e770b15-a426-4b3d-a6f8-037202e61491.dll --anonymousPipes 1288 1308 --benchmarkName MultiThreadBenchmark.MultiThreadPerformanceBenchmarks.NormalBenchmark --job Default --benchmarkId 0 in C:\Users\alexc\Workspace\Practice\MultithreadBenchmark\bin\Debug\net7.0\6e770b15-a426-4b3d-a6f8-037202e61491\bin\Release\net7.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.13.9+228a464e8be6c580ad9408e98f18813f6407fb5a
// Runtime=.NET 7.0.7 (7.0.723.27404), X64 RyuJIT AVX2
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2,AES,BMI1,BMI2,FMA,LZCNT,PCLMUL,POPCNT VectorSize=256
// Job: DefaultJob

OverheadJitting  1: 1 op, 305700.00 ns, 305.7000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:3000)
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at MultiThreadBenchmark.MultiThreadPerformanceBenchmarks.GetUser(HttpClient httpClient) in C:\Users\alexc\Workspace\Practice\MultithreadBenchmark\MultiThreadPerformanceBenchmarks.cs:line 48
   at MultiThreadBenchmark.MultiThreadPerformanceBenchmarks.<>c__DisplayClass2_0.<NormalBenchmark>b__1(Func`1 t) in C:\Users\alexc\Workspace\Practice\MultithreadBenchmark\MultiThreadPerformanceBenchmarks.cs:line 17
   at System.Collections.Generic.List`1.ForEach(Action`1 action)
   at MultiThreadBenchmark.MultiThreadPerformanceBenchmarks.NormalBenchmark() in C:\Users\alexc\Workspace\Practice\MultithreadBenchmark\MultiThreadPerformanceBenchmarks.cs:line 17
   at BenchmarkDotNet.Autogenerated.Runnable_0.WorkloadActionNoUnroll(Int64 invokeCount) in C:\Users\alexc\Workspace\Practice\MultithreadBenchmark\bin\Debug\net7.0\6e770b15-a426-4b3d-a6f8-037202e61491\6e770b15-a426-4b3d-a6f8-037202e61491.notcs:line 313
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_0.Run(IHost host, String benchmarkName) in C:\Users\alexc\Workspace\Practice\MultithreadBenchmark\bin\Debug\net7.0\6e770b15-a426-4b3d-a6f8-037202e61491\6e770b15-a426-4b3d-a6f8-037202e61491.notcs:line 176
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\Users\alexc\Workspace\Practice\MultithreadBenchmark\bin\Debug\net7.0\6e770b15-a426-4b3d-a6f8-037202e61491\6e770b15-a426-4b3d-a6f8-037202e61491.notcs:line 57
// AfterAll
No Workload Results were obtained from the run.
// Benchmark Process 8532 has exited with code -1.

// ** Remained 2 (66.7%) benchmark(s) to run. Estimated finish 2023-10-21 18:17 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: High performance)
// **************************
// Benchmark: MultiThreadPerformanceBenchmarks.ParallelBenchmark: DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet 6e770b15-a426-4b3d-a6f8-037202e61491.dll --anonymousPipes 1332 1312 --benchmarkName MultiThreadBenchmark.MultiThreadPerformanceBenchmarks.ParallelBenchmark --job Default --benchmarkId 1 in C:\Users\alexc\Workspace\Practice\MultithreadBenchmark\bin\Debug\net7.0\6e770b15-a426-4b3d-a6f8-037202e61491\bin\Release\net7.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.13.9+228a464e8be6c580ad9408e98f18813f6407fb5a
// Runtime=.NET 7.0.7 (7.0.723.27404), X64 RyuJIT AVX2
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2,AES,BMI1,BMI2,FMA,LZCNT,PCLMUL,POPCNT VectorSize=256
// Job: DefaultJob

OverheadJitting  1: 1 op, 587400.00 ns, 587.4000 us/op
